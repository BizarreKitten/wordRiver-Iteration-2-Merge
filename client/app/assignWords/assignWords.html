<div ng-include="'components/navbar/navbar.html'"></div>

<header class="hero-unit" id="banner">
  <div class="">
    <h1>Assign Content to People</h1>
  </div>
</header>

<div class="container">
    <!--This section is for the left column-->
    <div class="col-xs-3 accordion-toggle" ng-show="groupView">
      <button class="btn btn-primary" title="Show Students" ng-click="groupView=!groupView">Show Students</button>
      <h1 class="">Groups:</h1>
      <hr>
      <button class="btn btn-primary" ng-show="AZ1" ng-click="order1 = !order1; AZ1=!AZ1">A-Z</button>
      <button class="btn btn-primary" ng-show="!AZ1" ng-click="order1 = !order1 ;AZ1=!AZ1">Z-A</button>
      <ul class="list-group scroll">

        <li class="list-group-item" ng-repeat="group in userGroups | orderBy:'groupName':order1" ng-model="oneAtATime">
          <!--close-others isnt working here and isnt allowed here, need to move it around or find another way to allow only one as open-->
          <input type="checkbox" value='value' ng-click="checkGroups(group)"><a href="" ng-click="displayGroupInfo(group)" close-others="oneAtATime">{{group.groupName}}</a>
          <span class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down'  : status.open, 'glyphicon-chevron-right' : !status.open}"   ng-click="studentsInGroupAssignment(group); status.open = !status.open"></span>
        <ul collapse = "!status.open">
            <li class="list-group-item" ng-repeat="students in groupedStudents">
              <a href ="" ng-click="displayStudentInfo(students)">{{students.lastName}}, {{students.firstName}}</a></li>
          </ul>
        </li>
      </ul>

<!--this is trying to use the accordion group way. but it only shows one group so far, although that one group works also, checkmarks don't work-->
 <!--Looking at this reference------------------------------------------------------------------------------------------https://angular-ui.github.io/bootstrap/-->
      <!--<accordion close-others="oneAtATime">-->
        <!--<accordion-group is-open = "status.open">-->
          <!--<accordion-heading ng-repeat="group in userGroups | orderBy: 'groupName' : order1" >-->
            <!--<input type="checkbox" value="value" ng-click="checkGroups(group)"><a href="" ng-click="displayGroupInfo(group)">{{group.groupName}}</a>-->
            <!--<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right' : !status.open}" ng-click="studentsInGroupAssignment(group)"></i></input>-->
          <!--</accordion-heading>-->
          <!--<li class="list-group-item" ng-repeat="students in groupedStudents">-->
            <!--{{students.lastName}}, {{students.firstName}}-->
          <!--</li>-->
        <!--</accordion-group>-->
      <!--</accordion>-->
    <!--</ul>-->

    </div>
    <div class="col-xs-3" ng-hide="groupView">
      <button class="btn btn-primary" title="Show Groups" ng-click="groupView=!groupView">Show Groups</button>
      <h1 class="">Students:</h1>
      <hr>
      <button class="btn btn-primary" ng-show="!AZ0" ng-click="toSort0 = 'lastName'; order0 = !order0; AZ0=!AZ0">Z-A</button>
      <button class="btn btn-primary" ng-show="AZ0" ng-click="toSort0 = 'lastName'; order0 = !order0 ;AZ0=!AZ0">A-Z</button>
      <input type="text" ng-Model="searchText0" placeholder="Search">
      <ul class="list-group scroll">
        <li class="list-group-item " ng-repeat="student in userStudents | orderBy:'lastName':order0 |filter:searchText0">
          <input type="checkbox" value="value"  ng-click="checkStudents(student)"><a href="" ng-click="displayStudentInfo(student)">{{student.lastName}}, {{student.firstName}} </a>
      </ul>
    </div>
    <!--This section is for the middle column-->
    <div class="col-xs-6 center" ng-hide="showMiddle">
      <button  class="btn btn-primary center-block assignButton" title="Assign Words" ng-click="assignWords()">Assign Words</button>
      <h3>Click on anything to begin.</h3>
    </div>
    <div class="col-xs-6" ng-show="showCategory">
      <button  class="btn btn-primary center-block assignButton" title="Assign Words" ng-click="assignWords()">Assign Words</button>
      <br/>
      <br/>
      <div class="middleScroll">
        <h4>The tiles in the category "{{categorySelected.name}}" are:</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="word in matchTiles | orderBy:'name'">
          <a href="" ng-click="displayTileInfo(word)">{{word.name}}</a><span class="glyphicon glyphicon-minus-sign floatRight close unassignIconColor" style="color: red; " ng-click="unassignTileFromCategory(word, categorySelected, 'category')"></span></li>
        </ul>
        <h4>The groups that have this category are:</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="group in matchGroup | orderBy:'groupName'">
          <a href = "" ng-click = "displayGroupInfo(group)">{{group.groupName}}</a><span class="glyphicon glyphicon-minus-sign floatRight close unassignIconColor" style="color: red; " ng-click="unassignGroupFromCategory(group, categorySelected, 'category')"></span></li>
        </ul>
        <h4>The students that have this category are:</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="student in matchStudent | orderBy:'firstName'">
          <a href = "" ng-click="displayStudentInfo(student)">{{student.firstName}} {{student.lastName}}</a><span class="glyphicon glyphicon-minus-sign close unassignIconColor" style="color: red; " ng-click="unassignStudentFromCategory(student, categorySelected, 'category')"></span></li>
        </ul>
      </div>
    </div>
    <div class="col-xs-6" ng-show="wordView">
      <button  class="btn btn-primary center-block assignButton" title="Assign Words" ng-click="assignWords()">Assign Words</button>
      <br/>
      <br/>
      <div class="middleScroll">
        <h4>The tile "{{tileSelected.name}}" is in the categories:</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="category in matchCategories | orderBy:'name'">
          <a href="" ng-click="displayCatInfo(category)">{{category.name}}</a><span class="glyphicon glyphicon-minus-sign floatRight close unassignIconColor" style="color: red; " ng-click="unassignTileFromCategory(tileSelected, category, 'tile')"></span></li>
        </ul>
        <h4>The groups that have this tile are:</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="group in matchGroup | orderBy:'groupName'">
          <a href="" ng-click="displayGroupInfo(group)">{{group.groupName}}</a><span class="glyphicon glyphicon-minus-sign floatRight close unassignIconColor" style="color: red; " ng-click="unassignWordFromGroup(group, tileSelected, 'tile')"></span></li>
        </ul>
        <h4>The students that have this tile are:</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="student in matchStudent | orderBy:'firstName'">
          <a href = "" ng-click="displayStudentInfo(student)">{{student.firstName}} {{student.lastName}}</a><span class="glyphicon glyphicon-minus-sign floatRight close unassignIconColor" style="color: red; " ng-click="unassignWordFromStudent(student, tileSelected, 'tile')"></span></li>
        </ul>
      </div>
    </div>
    <div class="col-xs-6" ng-show="showGroup">
      <button  class="btn btn-primary center-block assignButton" title="Assign Words" ng-click="assignWords()">Assign Words</button>
      <br/>
      <br/>
      <div class="middleScroll">
        <h4>The group "{{groupSelected.groupName}}" has the students:</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="student in matchStudents | orderBy:'firstName'">
          <a href="" ng-click="displayStudentInfo(student)">{{student.firstName}} {{student.lastName}}</a><span class="glyphicon glyphicon-minus-sign floatRight close unassignIconColor" style="color: red; " ng-click="unassignStudentFromGroup(student, groupSelected, 'group')"></span></li>
        </ul>
        <h4>The categories that this group has are:</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="pack in matchCategories | orderBy:'name'">
          <a href="" ng-click="displayCatInfo(pack)">{{pack.name}}</a><span class="glyphicon glyphicon-minus-sign floatRight close unassignIconColor" style="color: red; " ng-click="unassignGroupFromCategory(groupSelected, pack, 'group')"></span></li>
        </ul>
        <h4>The words that this group has are:</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="tile in matchTiles | orderBy:'name'">
          <a href="" ng-click="displayTileInfo(tile)">{{tile.name}}</a><span class="glyphicon glyphicon-minus-sign floatRight close unassignIconColor" style="color: red; " ng-click="unassignWordFromGroup(groupSelected, tile, 'group')"></span></li>
        </ul>
      </div>
    </div>
    <div class="col-xs-6" ng-show="studentView">
      <button  class="btn btn-primary center-block assignButton" title="Assign Words" ng-click="assignWords()">Assign Words</button>
      <br/>
      <br/>
      <div class="middleScroll">
        <h4>The groups {{studentSelected.firstName}} {{studentSelected.lastName}} is in are:</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="group in matchGroups | orderBy:'groupName'">
          <a href="" ng-click="displayGroupInfo(group)">{{group.groupName}}</a><span class="glyphicon glyphicon-minus-sign floatRight close unassignIconColor" style="color: red; " ng-click="unassignStudentFromGroup(studentSelected, group,'student')"></span></li>
        </ul>
        <h4>The categories that this student has are:</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="pack in matchCategories | orderBy:'name'">
          <a href="" ng-click="displayCatInfo(pack)">{{pack.name}}</a><span class="glyphicon glyphicon-minus-sign floatRight close unassignIconColor" style="color: red; " ng-click="unassignStudentFromCategory(studentSelected, pack,  'student')"></span></li>
        </ul>
        <h4>The words that this student has are:</h4>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="tile in matchTiles | orderBy:'name'">
          <a href="" ng-click="displayTileInfo(tile)">{{tile.name}}</a><span class="glyphicon glyphicon-minus-sign floatRight close unassignIconColor" style="color: red; " ng-click="unassignWordFromStudent(studentSelected, tile,  'student')"></span></li>
        </ul>
      </div>
    </div>
    <!--This section is for the right column-->
    <div class="col-xs-3" ng-show="categoryView">
      <button class="btn btn-primary" title="Show Words" ng-click="categoryView=!categoryView">Show Words</button>
      <h1 class="">Categories:</h1>
      <hr>
      <button class="btn btn-primary" ng-show="!AZ2" ng-click=" order2 = !order2; AZ2=!AZ2">Z-A</button>
      <button class="btn btn-primary" ng-show="AZ2" ng-click=" order2 = !order2 ;AZ2=!AZ2">A-Z</button>
      <input type="text" ng-Model="searchText1" placeholder="Search">
      <ul class="list-group scroll">
        <li class="list-group-item" ng-repeat="category in userCategories | orderBy:'name':order2 | filter:searchText1">
          <input type="checkbox" value="value" ng-click="checkCategories(category)"><a href="" ng-click="displayCatInfo(category)">{{category.name}}</a>
      </ul>
    </div>
    <div class="col-xs-3" ng-hide="categoryView">
      <button class="btn btn-primary" title="Show Categories" ng-click="categoryView=!categoryView">Show Categories</button>
      <h1 class="">Words:</h1>
      <hr>
      <button class="btn btn-primary" ng-show="AZ3" ng-click=" order3 = !order3; AZ3=!AZ3">A-Z</button>
      <button class="btn btn-primary" ng-show="!AZ3" ng-click=" order3 = !order3 ;AZ3=!AZ3">Z-A</button>
      <input type="text" ng-Model="searchText2" placeholder="Search">
      <ul class="list-group scroll">
        <li class="list-group-item" ng-repeat="tile in userTiles | orderBy:'name':order3 | filter:searchText2">
          <input type="checkbox" value="value" ng-click="checkWords(tile)"><a href="" ng-click="displayTileInfo(tile)">{{tile.name}}</a>
      </ul>
    </div>
</div>
